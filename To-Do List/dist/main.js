(()=>{"use strict";let e={"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Agu","09":"Sep",10:"Oct",11:"Nov",12:"Dec"};function t(){document.querySelectorAll(".projectGroups").forEach((e=>{e.addEventListener("click",(function(){document.querySelectorAll(".objectives").forEach((t=>{t.classList.contains(`${e.innerText.replaceAll(" ","_")}`)?t.classList.remove("hidden"):t.classList.add("hidden"),document.getElementById("mainDisplay").innerText=e.innerText}))}))}))}function n(){document.querySelectorAll(".timeGroups").forEach((e=>e.addEventListener("click",(function(){document.querySelectorAll(".objectives").forEach((t=>{t.classList.contains(e.id)?t.classList.remove("hidden"):t.classList.add("hidden"),document.getElementById("mainDisplay").innerText=e.innerText}))})))),document.getElementById("all").addEventListener("click",(function(){document.querySelectorAll(".objectives").forEach((e=>e.classList.remove("hidden"))),document.getElementById("mainDisplay").innerText="All Time"}))}function l(){let e=document.querySelectorAll(".objectives:not(.hidden)");document.getElementById("objectiveDisplay").innerHTML=`${e.length} projects`;let t=0;e.forEach((e=>{let n=e.lastElementChild;if(n.innerText){let e=n.innerText.split(":"),l=60*Number(e[0])+Number(e[1]);t+=l}})),document.getElementById("timeDisplay").innerText=`${Math.floor(t/60)}h${t%60}min`}let c=[];document.querySelectorAll(".project").forEach((e=>{document.getElementById("projectSelector").appendChild(document.createElement("option")).innerText=e.innerText})),n(),t(),l(),document.getElementById("addProject").addEventListener("click",(function(){document.getElementById("addProjectForm").style.zIndex="9"})),document.getElementById("closeButton").addEventListener("click",(function(){document.getElementById("addProjectForm").style.zIndex="-1"})),document.getElementById("addButton").addEventListener("click",(function(){let e=document.getElementById("addProjectName"),t=document.createElement("li");t.classList.add("project");let n=document.createElement("button");n.classList.add("projectGroups"),n.innerText=e.value,document.getElementById("projectList").appendChild(t),t.appendChild(n);let l=document.createElement("option");l.innerText=e.value,document.getElementById("projectSelector").appendChild(l),e.value=""})),document.querySelectorAll(".categoryBtn").forEach((e=>e.addEventListener("click",l))),document.getElementById("addObjective").addEventListener("click",(function(){let d={title:document.getElementById("newName").value,project:document.getElementById("projectSelector").value,dueDate:document.getElementById("newDate").value,duration:document.getElementById("newDuration").value,priority:"unselected",notes:"notes*",checklist:"checklist*"};c.push(d);let o=document.createElement("tr"),r=document.createElement("td"),a=document.createElement("input"),i=document.createElement("td"),u=document.createElement("td"),m=document.createElement("td");switch(o.appendChild(r),r.appendChild(a),a.setAttribute("type","checkbox"),o.appendChild(i),o.appendChild(u),o.appendChild(m),document.getElementById("objTable").appendChild(o),o.classList.add("objectives"),o.classList.add(document.getElementById("projectSelector").value.replaceAll(" ","_")),o.classList.add(function(){let e=document.getElementById("newDate"),t=(new Date).getFullYear(),n=(new Date).getMonth()+1,l=(new Date).getDate(),c=new Date(e.value).getFullYear(),d=new Date(e.value).getMonth()+1,o=new Date(e.value).getDate();if(c==t&&d==n&&o==l)return"today";{const t=new Date(e.value).getTime()-(new Date).getTime(),n=Math.ceil(t/864e5);return 1==n?"tomorrow":n>1?"planned":new Date(e.value)<new Date?"late":"undated"}}()),d.dueDate?u.innerText=`${d.dueDate.split("-")[2]} ${e[d.dueDate.split("-")[1]]}`:u.innerText="",i.innerText=d.title,m.innerText=d.duration,document.querySelectorAll(".priority").forEach((e=>{e.checked&&(d.priority=e.id.slice(0,-3))})),d.priority){case"low":i.style="color:green",u.style="color:green",m.style="color:green";break;case"normal":i.style="color:black",u.style="color:black",m.style="color:black";break;case"high":i.style="color:red",u.style="color:red",m.style="color:red"}n(),t(),l()}))})();