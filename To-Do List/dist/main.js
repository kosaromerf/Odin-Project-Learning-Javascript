(()=>{let e={"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Agu","09":"Sep",10:"Oct",11:"Nov",12:"Dec"},t=[],n=document.getElementById("addObjective"),l=document.getElementById("newName"),d=document.getElementById("newDate"),o=document.getElementById("newDuration"),c=document.querySelectorAll(".priority"),a=document.getElementById("projectSelector"),r=document.getElementById("projectList"),u=document.querySelectorAll(".project");for(let e of u){let t=document.createElement("option");t.innerText=e.innerText,a.appendChild(t)}let i=document.getElementById("objTable");n.addEventListener("click",(function(){let n={title:l.value,project:a.value,dueDate:d.value,duration:o.value,priority:"unselected",notes:"notes*",checklist:"checklist*"};t.push(n);let r=document.createElement("tr"),u=document.createElement("td"),y=document.createElement("input");r.appendChild(u),u.appendChild(y),y.setAttribute("type","checkbox");let g=document.createElement("td");g.innerText=n.title,r.appendChild(g);let E=document.createElement("td");n.dueDate?E.innerText=`${n.dueDate.split("-")[2]} ${e[n.dueDate.split("-")[1]]}`:E.innerText="",r.appendChild(E);let h=document.createElement("td");switch(h.innerText=n.duration,r.appendChild(h),i.appendChild(r),c.forEach((e=>{e.checked&&(n.priority=e.id.slice(0,-3))})),n.priority){case"low":g.style="color:green",E.style="color:green",h.style="color:green";break;case"normal":g.style="color:black",E.style="color:black",h.style="color:black";break;case"high":g.style="color:red",E.style="color:red",h.style="color:red"}r.setAttribute("projectGroup",a.value.replaceAll(" ","_")),r.setAttribute("dateGroup",function(){let e=new Date(d.value).getFullYear(),t=new Date(d.value).getMonth()+1,n=new Date(d.value).getDate();if(e==m&&t==p&&n==s)return"today";{const e=new Date(d.value).getTime()-(new Date).getTime(),t=Math.ceil(e/864e5);return 1==t?"tomorrow":t>1?"planned":new Date(d.value)<new Date?"late":"undated"}}()),console.log(r)})),document.getElementById("addProject").addEventListener("click",(function(){document.getElementById("addProjectForm").style.zIndex="9"})),document.getElementById("closeButton").addEventListener("click",(function(){document.getElementById("addProjectForm").style.zIndex="-1"})),document.getElementById("addButton").addEventListener("click",(function(){let e=document.getElementById("addProjectName"),t=document.createElement("li");t.classList.add("project"),t.innerText=e.value,r.appendChild(t);let n=document.createElement("option");n.innerText=e.value,a.appendChild(n),e.value=""}));let m=(new Date).getFullYear(),p=(new Date).getMonth()+1,s=(new Date).getDate()})();