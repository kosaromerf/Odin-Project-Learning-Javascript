(()=>{"use strict";let e={"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Agu","09":"Sep",10:"Oct",11:"Nov",12:"Dec"};function t(){document.querySelectorAll(".projectGroups").forEach((e=>{e.addEventListener("click",(function(){document.querySelectorAll(".objectives").forEach((t=>{t.classList.contains(`${e.innerText.replaceAll(" ","_")}`)?t.classList.remove("hidden"):t.classList.add("hidden"),document.getElementById("mainDisplay").innerText=e.innerText}))}))}))}function n(){document.querySelectorAll(".timeGroups").forEach((e=>e.addEventListener("click",(function(){document.querySelectorAll(".objectives").forEach((t=>{t.classList.contains(e.id)?t.classList.remove("hidden"):t.classList.add("hidden"),document.getElementById("mainDisplay").innerText=e.innerText}))})))),document.getElementById("all").addEventListener("click",(function(){document.querySelectorAll(".objectives").forEach((e=>e.classList.remove("hidden"))),document.getElementById("mainDisplay").innerText="All Time"}))}function l(){document.getElementById("objectiveDisplay").innerHTML=`${document.querySelectorAll(".objectives:not(.hidden)").length} projects`;let e=0;document.querySelectorAll(".objectives:not(.hidden)").forEach((t=>{let n=t.lastElementChild;if(n.innerText){let t=n.innerText.split(":");e+=60*Number(t[0])+Number(t[1])}})),document.getElementById("timeDisplay").innerText=`${Math.floor(e/60)}h${e%60}min`}let c=[];function d(d){c.includes(d)||c.push(d);let o=document.createElement("tr"),a=document.createElement("td"),r=document.createElement("input"),s=document.createElement("td"),u=document.createElement("td"),m=document.createElement("td");switch(o.appendChild(a),a.appendChild(r),r.setAttribute("type","checkbox"),r.checked=d.checklist,o.appendChild(s),o.appendChild(u),o.appendChild(m),document.getElementById("objTable").appendChild(o),o.classList.add("objectives"),o.classList.add(document.getElementById("projectSelector").value.replaceAll(" ","_")),o.classList.add(function(){let e=document.getElementById("newDate"),t=(new Date).getFullYear(),n=(new Date).getMonth()+1,l=(new Date).getDate(),c=new Date(e.value).getFullYear(),d=new Date(e.value).getMonth()+1,i=new Date(e.value).getDate();if(c==t&&d==n&&i==l)return"today";{const t=new Date(e.value).getTime()-(new Date).getTime(),n=Math.ceil(t/864e5);return 1==n?"tomorrow":n>1?"planned":new Date(e.value)<new Date?"late":"undated"}}()),d.dueDate?u.innerText=`${d.dueDate.split("-")[2]} ${e[d.dueDate.split("-")[1]]}`:u.innerText="",s.innerText=d.title,m.innerText=d.duration,d.priority){case"low":s.style="color:green",u.style="color:green",m.style="color:green";break;case"normal":s.style="color:black",u.style="color:black",m.style="color:black";break;case"high":s.style="color:red",u.style="color:red",m.style="color:red"}r.checked=d.checklist,i(r,s,u,m),a.addEventListener("click",(function(){i(r,s,u,m),d.checklist?d.checklist=!1:d.checklist=!0,localStorage.setItem("objectives",JSON.stringify(c))})),n(),t(),l(),s.addEventListener("click",(function(){!function(e,t){let n=document.createElement("div");n.classList.add("notes");let d=document.createElement("h4");d.innerText="Additinal Notes";let i=document.createElement("textarea");i.value=e.notes;let o=document.createElement("div");o.setAttribute("id","buttons");let a=document.createElement("button");a.setAttribute("id","update"),a.innerText="Update";let r=document.createElement("button");r.setAttribute("id","del"),r.innerText="Delete";let s=document.createElement("button");s.setAttribute("id","close"),s.innerText="Close",n.appendChild(d),n.appendChild(i),n.appendChild(o),o.appendChild(a),o.appendChild(s),o.appendChild(r),document.getElementById("body").appendChild(n),a.addEventListener("click",(function(){e.notes=i.value,localStorage.setItem("objectives",JSON.stringify(c))})),r.addEventListener("click",(function(){c=c.filter((t=>t!==e)),t.remove(),localStorage.setItem("objectives",JSON.stringify(c)),l()})),s.addEventListener("click",(function(){n.style.display="none"}))}(d,o)}))}function i(e,t,n,l){e.checked?(t.classList.add("finished"),n.classList.add("finished"),l.classList.add("finished")):(t.classList.remove("finished"),n.classList.remove("finished"),l.classList.remove("finished"))}document.querySelectorAll(".project").forEach((e=>{document.getElementById("projectSelector").appendChild(document.createElement("option")).innerText=e.innerText})),n(),t(),l(),document.getElementById("addProject").addEventListener("click",(function(){document.getElementById("addProjectForm").style.zIndex="9"})),document.getElementById("closeButton").addEventListener("click",(function(){document.getElementById("addProjectForm").style.zIndex="-1"})),document.getElementById("addButton").addEventListener("click",(function(){let e=document.getElementById("addProjectName"),t=document.createElement("li");t.classList.add("project");let n=document.createElement("button");n.classList.add("projectGroups"),n.innerText=e.value,document.getElementById("projectList").appendChild(t),t.appendChild(n);let l=document.createElement("option");l.innerText=e.value,document.getElementById("projectSelector").appendChild(l),e.value=""})),document.querySelectorAll(".categoryBtn").forEach((e=>e.addEventListener("click",l))),document.getElementById("addObjective").addEventListener("click",(function(){d({title:document.getElementById("newName").value,project:document.getElementById("projectSelector").value,dueDate:document.getElementById("newDate").value,duration:document.getElementById("newDuration").value,priority:document.querySelector('input[name="priority"]:checked').id.slice(0,-3),notes:"notes",checklist:!1}),localStorage.setItem("objectives",JSON.stringify(c))}));let o=localStorage.getItem("objectives");o&&(c=JSON.parse(o),c.forEach((e=>{d(e)})))})();