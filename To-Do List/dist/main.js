(()=>{"use strict";let e={"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Agu","09":"Sep",10:"Oct",11:"Nov",12:"Dec"};function t(){document.querySelectorAll(".projectGroups").forEach((e=>{e.addEventListener("click",(function(){document.querySelectorAll(".objectives").forEach((t=>{t.classList.contains(`${e.innerText.replaceAll(" ","_")}`)?t.classList.remove("hidden"):t.classList.add("hidden"),document.getElementById("mainDisplay").innerText=e.innerText}))}))}))}function n(){document.querySelectorAll(".timeGroups").forEach((e=>e.addEventListener("click",(function(){document.querySelectorAll(".objectives").forEach((t=>{t.classList.contains(e.id)?t.classList.remove("hidden"):t.classList.add("hidden"),document.getElementById("mainDisplay").innerText=e.innerText}))})))),document.getElementById("all").addEventListener("click",(function(){document.querySelectorAll(".objectives").forEach((e=>e.classList.remove("hidden"))),document.getElementById("mainDisplay").innerText="All Time"}))}function l(){document.getElementById("objectiveDisplay").innerHTML=`${document.querySelectorAll(".objectives:not(.hidden)").length} projects`;let e=0;document.querySelectorAll(".objectives:not(.hidden)").forEach((t=>{let n=t.lastElementChild;if(n.innerText){let t=n.innerText.split(":");e+=60*Number(t[0])+Number(t[1])}})),document.getElementById("timeDisplay").innerText=`${Math.floor(e/60)}h${e%60}min`}let d=[];document.querySelectorAll(".project").forEach((e=>{document.getElementById("projectSelector").appendChild(document.createElement("option")).innerText=e.innerText})),n(),t(),l(),document.getElementById("addProject").addEventListener("click",(function(){document.getElementById("addProjectForm").style.zIndex="9"})),document.getElementById("closeButton").addEventListener("click",(function(){document.getElementById("addProjectForm").style.zIndex="-1"})),document.getElementById("addButton").addEventListener("click",(function(){let e=document.getElementById("addProjectName"),t=document.createElement("li");t.classList.add("project");let n=document.createElement("button");n.classList.add("projectGroups"),n.innerText=e.value,document.getElementById("projectList").appendChild(t),t.appendChild(n);let l=document.createElement("option");l.innerText=e.value,document.getElementById("projectSelector").appendChild(l),e.value=""})),document.querySelectorAll(".categoryBtn").forEach((e=>e.addEventListener("click",l))),document.getElementById("addObjective").addEventListener("click",(function(){let c={title:document.getElementById("newName").value,project:document.getElementById("projectSelector").value,dueDate:document.getElementById("newDate").value,duration:document.getElementById("newDuration").value,priority:"unselected",notes:"notes",checklist:"checklist*"};d.push(c);let o=document.createElement("tr"),i=document.createElement("td"),a=document.createElement("input"),r=document.createElement("td"),u=document.createElement("td"),s=document.createElement("td");switch(o.appendChild(i),i.appendChild(a),a.setAttribute("type","checkbox"),o.appendChild(r),o.appendChild(u),o.appendChild(s),document.getElementById("objTable").appendChild(o),o.classList.add("objectives"),o.classList.add(document.getElementById("projectSelector").value.replaceAll(" ","_")),o.classList.add(function(){let e=document.getElementById("newDate"),t=(new Date).getFullYear(),n=(new Date).getMonth()+1,l=(new Date).getDate(),d=new Date(e.value).getFullYear(),c=new Date(e.value).getMonth()+1,o=new Date(e.value).getDate();if(d==t&&c==n&&o==l)return"today";{const t=new Date(e.value).getTime()-(new Date).getTime(),n=Math.ceil(t/864e5);return 1==n?"tomorrow":n>1?"planned":new Date(e.value)<new Date?"late":"undated"}}()),c.dueDate?u.innerText=`${c.dueDate.split("-")[2]} ${e[c.dueDate.split("-")[1]]}`:u.innerText="",r.innerText=c.title,s.innerText=c.duration,document.querySelectorAll(".priority").forEach((e=>{e.checked&&(c.priority=e.id.slice(0,-3))})),c.priority){case"low":r.style="color:green",u.style="color:green",s.style="color:green";break;case"normal":r.style="color:black",u.style="color:black",s.style="color:black";break;case"high":r.style="color:red",u.style="color:red",s.style="color:red"}n(),t(),l(),o.addEventListener("click",(function(){!function(e,t){let n=document.createElement("div");n.classList.add("notes");let c=document.createElement("h4");c.innerText="Additinal Notes";let o=document.createElement("textarea");o.value=e.notes;let i=document.createElement("div");i.setAttribute("id","buttons");let a=document.createElement("button");a.setAttribute("id","update"),a.innerText="Update";let r=document.createElement("button");r.setAttribute("id","del"),r.innerText="Delete";let u=document.createElement("button");u.setAttribute("id","close"),u.innerText="Close",n.appendChild(c),n.appendChild(o),n.appendChild(i),i.appendChild(a),i.appendChild(u),i.appendChild(r),document.getElementById("body").appendChild(n),a.addEventListener("click",(function(){e.notes=o.value})),r.addEventListener("click",(function(){d=d.filter((t=>t!==e)),t.remove(),l(),console.log(e),console.log(t)})),u.addEventListener("click",(function(){n.style.display="none"}))}(c,o)}))}))})();