(()=>{let e={"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"Jun","07":"Jul","08":"Agu","09":"Sep",10:"Oct",11:"Nov",12:"Dec"},t=[],n=document.getElementById("addObjective"),l=document.getElementById("newName"),d=document.getElementById("newDate"),c=document.getElementById("newDuration"),o=document.querySelectorAll(".priority"),a=document.getElementById("projectSelector"),i=document.getElementById("projectList"),r=document.querySelectorAll(".project");for(let e of r){let t=document.createElement("option");t.innerText=e.innerText,a.appendChild(t)}let s=document.getElementById("objTable");n.addEventListener("click",(function(){let n={title:l.value,project:a.value,dueDate:d.value,duration:c.value,priority:"unselected",notes:"notes*",checklist:"checklist*"};t.push(n);let i=document.createElement("tr");i.classList.add("objectives");let r=document.createElement("td"),E=document.createElement("input");i.appendChild(r),r.appendChild(E),E.setAttribute("type","checkbox");let p=document.createElement("td");p.innerText=n.title,i.appendChild(p);let h=document.createElement("td");n.dueDate?h.innerText=`${n.dueDate.split("-")[2]} ${e[n.dueDate.split("-")[1]]}`:h.innerText="",i.appendChild(h);let v=document.createElement("td");switch(v.innerText=n.duration,i.appendChild(v),s.appendChild(i),o.forEach((e=>{e.checked&&(n.priority=e.id.slice(0,-3))})),n.priority){case"low":p.style="color:green",h.style="color:green",v.style="color:green";break;case"normal":p.style="color:black",h.style="color:black",v.style="color:black";break;case"high":p.style="color:red",h.style="color:red",v.style="color:red"}i.classList.add(a.value.replaceAll(" ","_")),i.classList.add(function(){let e=new Date(d.value).getFullYear(),t=new Date(d.value).getMonth()+1,n=new Date(d.value).getDate();if(e==u&&t==m&&n==y)return"today";{const e=new Date(d.value).getTime()-(new Date).getTime(),t=Math.ceil(e/864e5);return 1==t?"tomorrow":t>1?"planned":new Date(d.value)<new Date?"late":"undated"}}()),console.log(i),document.querySelectorAll(".projectGroups").forEach((e=>{e.addEventListener("click",(function(){document.querySelectorAll(".objectives").forEach((t=>{t.classList.contains(`${e.innerText.replaceAll(" ","_")}`)?t.classList.remove("hidden"):t.classList.add("hidden")}))}))}))})),document.getElementById("addProject").addEventListener("click",(function(){document.getElementById("addProjectForm").style.zIndex="9"})),document.getElementById("closeButton").addEventListener("click",(function(){document.getElementById("addProjectForm").style.zIndex="-1"})),document.getElementById("addButton").addEventListener("click",(function(){let e=document.getElementById("addProjectName"),t=document.createElement("li");t.classList.add("project");let n=document.createElement("button");n.classList.add("projectGroups"),n.innerText=e.value,i.appendChild(t),t.appendChild(n);let l=document.createElement("option");l.innerText=e.value,a.appendChild(l),e.value=""}));let u=(new Date).getFullYear(),m=(new Date).getMonth()+1,y=(new Date).getDate();function E(){let e,t=document.getElementById("today"),n=document.getElementById("tomorrow"),l=document.getElementById("planned"),d=document.getElementById("late"),c=document.getElementById("undated"),o=document.getElementById("all");t.addEventListener("click",(function(){e=document.querySelectorAll(".objectives"),e.forEach((e=>{e.classList.contains("today")?e.classList.remove("hidden"):e.classList.add("hidden")}))})),n.addEventListener("click",(function(){e=document.querySelectorAll(".objectives"),e.forEach((e=>{e.classList.contains("tomorrow")?e.classList.remove("hidden"):e.classList.add("hidden")}))})),l.addEventListener("click",(function(){e=document.querySelectorAll(".objectives"),e.forEach((e=>{e.classList.contains("planned")?e.classList.remove("hidden"):e.classList.add("hidden")}))})),d.addEventListener("click",(function(){e=document.querySelectorAll(".objectives"),e.forEach((e=>{e.classList.contains("late")?e.classList.remove("hidden"):e.classList.add("hidden")}))})),c.addEventListener("click",(function(){e=document.querySelectorAll(".objectives"),e.forEach((e=>{e.classList.contains("undated")?e.classList.remove("hidden"):e.classList.add("hidden")}))})),o.addEventListener("click",(function(){e=document.querySelectorAll(".objectives"),e.forEach((e=>e.classList.remove("hidden")))}))}E(),E()})();