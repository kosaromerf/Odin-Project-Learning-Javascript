(()=>{"use strict";function e(e){document.getElementById("temp").innerText=`${e.current.temp[0]}°C`,document.getElementById("feeling").innerText=`${e.current.feelTemp[0]}°C`,document.getElementById("pressure").innerText=`${e.current.pressure[0]}mb`,document.getElementById("wind").innerText=`${e.current.wind[0]}kph`,document.getElementById("visibility").innerText=`${e.current.visibility[0]}km`,document.getElementById("infoText").innerText=e.current.info[1],document.getElementById("infoImg").src=e.current.info[0],document.getElementById("humidity").innerText=e.current.humidity,0==document.querySelectorAll(".date").length&&n(e);for(let t=0;t<3;t++)document.getElementById(`avgTemp${t}`).innerText=e.days[t].temp[0],document.getElementById(`minTemp${t}`).innerText=e.days[t].minimumTemp[0],document.getElementById(`maxTemp${t}`).innerText=e.days[t].maximumTemp[0]}function t(e){document.getElementById("temp").innerText=`${e.current.temp[1]}°F`,document.getElementById("feeling").innerText=`${e.current.feelTemp[1]}°F`,document.getElementById("pressure").innerText=`${e.current.pressure[1]}in`,document.getElementById("wind").innerText=`${e.current.wind[1]}mph`,document.getElementById("visibility").innerText=`${e.current.visibility[0]}miles`,document.getElementById("infoText").innerText=e.current.info[1],document.getElementById("infoImg").src=e.current.info[0],document.getElementById("humidity").innerText=e.current.humidity,0==document.querySelectorAll(".date").length&&n(e);for(let t=0;t<3;t++)document.getElementById(`avgTemp${t}`).innerText=e.days[t].temp[1],document.getElementById(`minTemp${t}`).innerText=e.days[t].minimumTemp[1],document.getElementById(`maxTemp${t}`).innerText=e.days[t].maximumTemp[1]}function n(e){e.days.forEach(((e,t)=>{let n=document.createElement("div");n.classList.add("forecastContainer");let i=document.createElement("div");i.classList.add("date");let m=document.createElement("img");i.classList.add("infoImg");let c=document.createElement("div");c.classList.add("avgTemp"),c.id=`avgTemp${t}`;let d=document.createElement("div");d.classList.add("minTemp"),d.id=`minTemp${t}`;let r=document.createElement("div");r.classList.add("maxTemp"),r.id=`maxTemp${t}`;let o=document.createElement("div");o.classList.add("rain");let l=document.createElement("div");l.classList.add("snow");let u=document.createElement("div");u.classList.add("snowHeight"),document.getElementById("forecast").appendChild(n),n.appendChild(i),n.appendChild(m),n.appendChild(c),n.appendChild(d),n.appendChild(r),n.appendChild(o),n.appendChild(l),i.innerText=e.forecastDate,m.src=e.info[0],o.innerText=e.rain,l.innerText=e.snow[0],u=e.snow[1]}))}let i;document.getElementById("getData").addEventListener("click",(function(){!function(n,m="c98cf4bc2c774097a3530534232707"){fetch(`https://api.weatherapi.com/v1/forecast.json?key=${m}&q=${n}&days=3&aqi=no&alerts=no`,{mode:"cors"}).then((e=>e.json())).then((n=>{i=function(e){let t=[e.location.country,e.location.name,e.location.region,e.location.localtime],n={temp:[e.current.temp_c,e.current.temp_f],feelTemp:[e.current.feelslike_c,e.current.feelslike_f],cloud:e.current.cloud,humidity:e.current.humidity,dayNight:e.current.is_day,lastUpdate:e.current.last_updated,pressure:[e.current.pressure_mb,e.current.pressure_in],wind:[e.current.wind_kph,e.current.wind_kph],visibility:[e.current.vis_km,e.current.vis_miles],info:[e.current.condition.icon,e.current.condition.text]},i=[];for(let t=0;t<3;t++){let n=e.forecast.forecastday[t].day;i.push({forecastDate:e.forecast.forecastday[t].date,temp:[n.avgtemp_c,n.avgtemp_f],rain:n.daily_chance_of_rain,snow:[n.daily_chance_of_snow,n.totalsnow_cm],maximumTemp:[n.maxtemp_c,n.maxtemp_f],minimumTemp:[n.mintemp_c,n.mintemp_f],info:[n.condition.icon,n.condition.text]})}return{location:t,current:n,days:i}}(n),function(n){"Metric/°C"==document.getElementById("unitSelection").innerText?e(n):t(n)}(i),console.log(i),console.log(n)})).catch((e=>{console.log("Error fetching data:",e)}))}(document.getElementById("locationInput").value?document.getElementById("locationInput").value:"london")})),document.getElementById("unitSelection").addEventListener("click",(function(){"Metric/°C"==document.getElementById("unitSelection").innerText?(document.getElementById("unitSelection").innerText="Imperial/°F",t(i)):(document.getElementById("unitSelection").innerText="Metric/°C",e(i))}))})();